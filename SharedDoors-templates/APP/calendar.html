<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shared Doors - {{ title }}</title>
    {% load static %}
    <link rel='stylesheet' href='{% static "js/fullcalendar/fullcalendar.css" %}' />
    <script src='{% static "js/lib/jquery.min.js" %}'></script>
    <script src='{% static "js/lib/moment.min.js" %}'></script>
    <script src='{% static "js/fullcalendar/fullcalendar.js" %}'></script>
    <script>
          $(document).ready(function() {
            $('#calendar').fullCalendar({
                displayEventTime: false,
                navLinks: true,
                eventLimit: true,
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'month'
                },
                defaultDate: new Date().toJSON().slice(0,10).replace(/-/g,'/'),
                eventClick: function(id){
                    window.location.href = id.link;
                },
                events: [
                    {% for event in events %}
                    {
                      id:    '{{ event.id }}',
                      title: '{{ event.name }}',
                      start: '{{ event.day }}',
                      link:  '{% url 'display_event' event.id %}',
                      color: changeColor('{{ event.type }}')
                    },
                    {% endfor %}
                ]
            });
          });
          function changeColor(type)
          {
              switch (type){
                  case 'M':
                      return 'green';
                  case 'T':
                      return 'orange';
                  case 'P':
                      return 'blue';
                  case 'B':
                      return 'purple';
                  default:
                      return 'white';
              }
          }
    </script>
    <style>
  body {
    margin: 0;
    padding: 0;
    font-size: 14px;
  }

  #top select {
    font: inherit;
  }

  #calendar {
    max-width: 900px;
    margin: 40px auto;
    padding: 0 10px;
  }
    </style>
</head>
<body>
<div id="calendar">
</div>
<a href="{% url 'create_event' %}">Create event</a>
</body>
</html>
